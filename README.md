
# Проект: Модальное окно с выбором причин отказа

## Описание

Это приложение представляет собой компонент для управления модальным окном с возможностью выбора причин отказа от выполнения заказа. С помощью данного компонента пользователь может открыть модальное окно с заранее заданными опциями причин отказа, выбрать одну или несколько причин и отправить их.

## Структура проекта

- **Modal**: Компонент модального окна.
- **DeclineReason**: Компонент с чекбоксами для выбора причин отказа.
- **CheckboxList**: Компонент, отображающий список чекбоксов.
- **Checkbox**: Компонент для отдельного чекбокса.
- **Button**: Кнопка для отправки данных.

## Технологии

- **Vue 3** + **Composition API**
- **Pinia** для управления состоянием
- **SCSS** для стилей
- **Vite** для сборки проекта

## Структура каталогов (основная)

```
src/
├── components/
│   ├── base/
│   │   ├── Checkbox.vue
│   │   ├── CheckboxList.vue
│   │   └── Button.vue
│   ├── DeclineReason.vue
│   ├── Modal.vue
├── layouts/
│   └── AppLayoutDefault.vue
├── stores/
│   ├── useDeclineReasonStore.js
│   └── useModalStore.js
└── pages/
    └── HomePage.vue
```

## Установка

### 1. Клонировать репозиторий

```bash
git clone https://github.com/Halifatick/test-task-modal.git
cd test-task-modal
```

### 2. Установить зависимости

```bash
npm install
```

### 3. Запустить проект

```bash
npm run dev
```

### 4. Открыть в браузере

Перейдите по адресу [http://localhost:3000](http://localhost:3000) для просмотра.

## Использование

### 1. Открытие модального окна

Для открытия модального окна используйте компонент `Button`:

```vue
<Button @click="openModal" text="Открыть модальное окно"/>
```

Функция `openModal` открывает модальное окно с переданными данными: заголовком, содержимым и функцией отправки.

### 2. Компонент `Modal`

Компонент `Modal` отвечает за отображение модального окна. Он принимает следующие пропсы:

- **`isOpen`**: Булевый флаг, указывающий, открыто ли модальное окно.
- **`title`**: Заголовок модального окна.
- **`content`**: Контент модального окна (может быть строкой или компонентом).
- **`submit`**: Функция, которая будет вызвана при нажатии на кнопку отправки.

```vue
<Modal
    :isOpen="isOpen"
    @close="modalStore.closeModal"
    :title="modalData.title"
    :content="modalData.content"
    :submit="modalData.submit"
/>
```

### 3. Компонент `DeclineReason`

Компонент `DeclineReason` отображает список причин отказа, используя компонент `CheckboxList`. Это компонент, который отображает чекбоксы для каждой причины.

```vue
<DeclineReason :options="options" v-model="selectedReasons"/>
```

### 4. Компонент `CheckboxList`

Компонент `CheckboxList` принимает массив опций и отображает их как список чекбоксов. Когда пользователь выбирает или снимает выбор с чекбокса, данные обновляются через `v-model`.

```vue
<CheckboxList :options="options" v-model="modelValue"/>
```

### 5. Сброс выбранных причин

Для сброса выбранных причин отказа используется метод `resetSelectedReasons`:

```javascript
declineReasonStore.resetSelectedReasons()
```

### 6. Компонент `Checkbox`

Каждый чекбокс является компонентом, принимающим строку в качестве метки и булевое значение для `v-model`.

```vue
<Checkbox label="Не устраивает дата" v-model="selectedReasons"/>
```

### 7. Кнопка "Отправить"

Кнопка отправки данных вызывается внизу модального окна, и когда пользователь нажимает на нее, передается функция `submit`, которая может быть использована для обработки выбранных причин отказа.

```vue
<SubmitButton @click="submit" text="Отправить"/>
```

---

## Стейт-менеджмент

В проекте используется **Pinia** для управления состоянием:

- **`useModalStore`**: Управляет состоянием модального окна (открыто/закрыто) и его данными.
- **`useDeclineReasonStore`**: Управляет состоянием списка причин отказа и выбранными пользователем причинами.

### Пример использования `useModalStore`:

```javascript
const modalStore = useModalStore();
modalStore.openModal({
  title: "Модальное окно",
  content: h(DeclineReason, { options: options.value, modelValue: selectedReasons.value }),
  submit: handleSubmit
});
```

---

## Лицензия

Этот проект распространяется под лицензией MIT.
